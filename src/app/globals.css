@tailwind base;
@tailwind components;
@tailwind utilities;

/* Talking Tom Color Palette */
:root {
  /* Primary Colors */
  --tom-orange: #FF8C42;
  --sunny-yellow: #FFD93D;
  --sky-blue: #6BCF7F;
  --playful-pink: #FF6B9D;
  --soft-purple: #A78BFA;
  
  /* Background Colors */
  --main-bg: linear-gradient(135deg, #FFE5B4 0%, #87CEEB 100%);
  --chat-bg: #FFF8E7;
  --card-bg: #FFFFFF;
  
  /* Text Colors */
  --text-primary: #2D3748;
  --text-secondary: #4A5568;
  --text-white: #FFFFFF;
  
  /* Shadows */
  --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-strong: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

  /* Cloud fade duration: ~4‚Äì5s per direction */
  --fade-dur: 4.5s;

  /* Mountain sway controls */
  --sway-distance: 8px;
  --sway-duration: 6s;
}

@theme inline {
  --color-background: var(--card-bg);
  --color-foreground: var(--text-primary);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Global Styles */
* {
  box-sizing: border-box;
}

body {
  color: var(--text-primary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  min-height: 100vh;
  margin: 0;
  padding: 0;
  background: #87CEEB;
  overflow-x: hidden;
}

/* Legacy sun spin (now disabled by orbit override) */
@keyframes rotate-rays {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* Gentle cloud drift: move clouds back and forth slowly for a relaxed effect */
@keyframes cloud-drift {
  0%   { transform: translateX(-12px); }
  50%  { transform: translateX(12px); }
  100% { transform: translateX(-12px); }
}

.background-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;
}

/* ===== Sun orbit + stacking ===== */
/* Fan-style spin (in place) */
/* Fan-style spin (already added earlier; here for context) */
@keyframes fan-spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* Rays (behind the disk) */
.sun-fan {
  position: absolute;
  top: 68%;
  left: 21%;
  width: 200vmin;   /* overall rays size */
  height: 200vmin;
  transform: translate(-50%, -50%);
  z-index: 2;      /* BEHIND the disk */
  pointer-events: none;
}
.sun-fan-img {
  object-fit: contain;
  animation: fan-spin 50s linear infinite;
  transform-origin: 50% 50%;
}

/* Sun disk (50% opacity), in front of rays but behind mountain */
.sun-disk {
  position: absolute;
  top: 65%;         /* nudge to taste so the mountain covers the lower half */
  left: 23%;
  width: 32vmin;    /* disk size */
  height: 32vmin;
  transform: translate(-50%, -50%);
  z-index: 2;       /* IN FRONT of rays (1), BEHIND mountain (4) */
  border-radius: 50%;
  opacity: 0.8;
  pointer-events: none;

  /* Warm gradient that reads as sun */
  background: radial-gradient(
    circle at 40% 40%,
    #FFD93D 0%,
    #FFD93D 35%,
    #FFB34D 60%,
    #FF8C42 100%
  );

  /* optional: a soft glow that respects opacity */
  box-shadow:
    0 0 40px 10px rgba(255, 217, 61, 0.35),
    0 0 80px 30px rgba(255, 140, 66, 0.25);
}

/* Make sure the mountain stays above */
.medmountain { z-index: 4; }

/* (If not set elsewhere) keep other layers sensible */
.mountain, .sidemountain, .sidemountain2 { z-index: 2; }
.water { z-index: 1; }

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .sun-fan-img { animation: none !important; }
}


/* respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .sun-fan-img { animation: none !important; }
}


/* Clouds (base) */
.cloud {
  position: absolute;
  opacity: 0.9;
  animation-name: cloud-drift;
  animation-duration: 40s;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-direction: alternate;
  will-change: transform;
}

/* Cloud drift + fade combo */
@keyframes drift {
  0%   { transform: translateX(0) translateY(0); }
  50%  { transform: translateX(22px) translateY(-16px); }
  100% { transform: translateX(0) translateY(0); }
}

@keyframes fade {
  0%, 100% { opacity: 0.35; }
  50%      { opacity: 1; }
}

/* Apply dual animations: drift (per-cloud), fade (~4‚Äì5s per direction) */
.cloud-1 { 
  top: -2%; left: -2%;
  animation-name: drift, fade;
  animation-duration: 10s, var(--fade-dur);
  animation-delay: 2s, 0s;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite, infinite;
  animation-direction: normal, alternate;
}

.cloud-2 { 
  top: 25%; right: 15%;
  animation-name: drift, fade;
  animation-duration: 10s, var(--fade-dur);
  animation-delay: 2s, 0s;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite, infinite;
  animation-direction: normal, alternate;
}

.cloud-3 { 
  top: 20%; left: -1%;
  animation-name: drift, fade;
  animation-duration: 6s, var(--fade-dur);
  animation-delay: 6s, 0s;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite, infinite;
  animation-direction: normal, alternate;
}

.cloud-4 { 
  top: 20%; right: 35%;
  animation-name: drift, fade;
  animation-duration: 8s, var(--fade-dur);
  animation-delay: 1s, 0s;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite, infinite;
  animation-direction: normal, alternate;
}

.cloud-5 { 
  top: 30%; left: 50%;
  animation-name: drift, fade;
  animation-duration: 9s, var(--fade-dur);
  animation-delay: 8s, 0s;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite, infinite;
  animation-direction: normal, alternate;
}

/* ===== Mountain sway (back & forth) + fixes ===== */
@keyframes sway {
  0%   { transform: var(--base-transform, translateZ(0)) translateX(calc(-1 * var(--sway-distance))); }
  100% { transform: var(--base-transform, translateZ(0)) translateX(var(--sway-distance)); }
}

.mountain {
  position: absolute;
  bottom: -60px;
  left: 450px;
  z-index: 2;
 
}

.medmountain {
  position: absolute;
  bottom: 0;
  z-index: 4; /* occludes lower half of the sun */

}

.sidemountain {
  position: absolute;
  bottom: -80px; /* fixed units */
  z-index: 3;

}

.sidemountain2 {
  position: absolute;
  bottom: -200px; /* fixed units */
  left: 200px;    /* fixed units */
  z-index: 3;
  --base-transform: rotate(-90deg); /* preserve rotation */
 rotate: calc(-90deg);
}

.sparkle {
  position: absolute;
  animation: pulse-glow 2s infinite;
}

.water {
  position: absolute;
  right: -200px;  /* fixed units */
  bottom: -30px;  /* fixed units */
  z-index: 1;
}

/* Talking Tom Animations */
@keyframes bounce-in {
  0% {
    opacity: 0;
    transform: scale(0.3) translateY(-20px);
  }
  50% {
    opacity: 1;
    transform: scale(1.05) translateY(0);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes slide-in {
  0% {
    opacity: 0;
    transform: translateX(-20px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes wiggle {
  0%, 100% { transform: rotate(0deg); }
  25%      { transform: rotate(1deg); }
  75%      { transform: rotate(-1deg); }
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(255, 140, 66, 0.4);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(255, 140, 66, 0);
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50%      { transform: translateY(-10px); }
}

/* Utility Classes */
.tom-gradient {
  background: linear-gradient(135deg, var(--tom-orange) 0%, var(--sunny-yellow) 100%);
}

.sky-gradient {
  background: linear-gradient(135deg, var(--sky-blue) 0%, var(--soft-purple) 100%);
}

.pink-gradient {
  background: linear-gradient(135deg, var(--playful-pink) 0%, var(--tom-orange) 100%);
}

.bounce-in { animation: bounce-in 0.6s ease-out; }
.slide-in  { animation: slide-in 0.4s ease-out; }
.wiggle    { animation: wiggle 0.5s ease-in-out; }
.pulse-glow{ animation: pulse-glow 2s infinite; }
.float     { animation: float 3s ease-in-out infinite; }

/* Rounded corners for everything */
.rounded-tom    { border-radius: 20px; }
.rounded-tom-sm { border-radius: 12px; }
.rounded-tom-lg { border-radius: 24px; }

/* Button hover effects */
.tom-button {
  transition: all 0.3s ease;
  transform: scale(1);
}
.tom-button:hover {
  transform: scale(1.05);
  box-shadow: var(--shadow-strong);
}
.tom-button:active {
  transform: scale(0.98);
}

/* Message bubble styles */
.tom-message {
  position: relative;
  background: var(--tom-orange);
  color: var(--text-white);
  border-radius: 20px 20px 20px 5px;
  box-shadow: var(--shadow-soft);
}
.tom-message::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: -10px;
  width: 0;
  height: 0;
  border: 10px solid transparent;
  border-right-color: var(--tom-orange);
  border-bottom: 0;
  border-left: 0;
}

.user-message {
  background: var(--sky-blue);
  color: var(--text-white);
  border-radius: 20px 20px 5px 20px;
  box-shadow: var(--shadow-soft);
}
.user-message::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: -10px;
  width: 0;
  height: 0;
  border: 10px solid transparent;
  border-left-color: var(--sky-blue);
  border-bottom: 0;
  border-right: 0;
}

/* Input styles */
.tom-input {
  border: 3px solid var(--tom-orange);
  border-radius: 20px;
  background: var(--card-bg);
  transition: all 0.3s ease;
}
.tom-input:focus {
  border-color: var(--sunny-yellow);
  box-shadow: 0 0 0 3px rgba(255, 217, 61, 0.3);
  outline: none;
}

/* Decorative elements */
.paw-print { position: relative; }
.paw-print::before {
  content: 'üêæ';
  position: absolute;
  opacity: 0.3;
  font-size: 12px;
}

/* User count display */
.user-count {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  padding: 8px 12px;
  border-radius: 12px;
  font-weight: 600;
  font-size: 14px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Responsive design */
@media (max-width: 768px) {
  .rounded-tom    { border-radius: 16px; }
  .rounded-tom-lg { border-radius: 20px; }
  .user-count     { font-size: 12px; padding: 6px 10px; }
}

/* Accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .sun-orbit { animation: none !important; }
  .mountain, .medmountain, .sidemountain, .sidemountain2 { animation: none !important; }
  .cloud, .cloud-1, .cloud-2, .cloud-3, .cloud-4, .cloud-5 { animation: none !important; }
}
